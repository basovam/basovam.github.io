<!doctype html>
<html>
	<head>
		<title>Life</title>
		<meta charset='utf-8' />
		<script>

	</script>
	</head>
	<body>
		<center><canvas height='601' width='301' id='example'>Обновите браузер</canvas>
		</center>
		<script>
			var example = document.getElementById("example");
			var ctx = example.getContext('2d');
			ctx.fillStyle="#ffffff";
			ctx.fillRect(0,0,301,601);
			ctx.fillStyle="#000000";
			ctx.beginPath();
			ctx.moveTo(0.5, 0.5);
			ctx.lineTo(0.5, 600.5);
			ctx.lineTo(300.5, 600.5);
			ctx.lineTo(300.5, 0.5);
			ctx.lineTo(0.5, 0.5);
			ctx.stroke();
			ongoingTouches = new Array();
			
			example.addEventListener("touchstart", e => {
				var elem = document.getElementById("example");
				var touches = e.changedTouches;
				for (var i = 0; i < touches.length; i++) {
					ongoingTouches.push(copyTouch(touches[i]));
				}
				ctx.fillStyle="#ff0000";
				ctx.fillRect(50,50,50,50);
			});
			
			example.addEventListener("touchend", e => {d = false;});
			
			el.addEventListener("touchmove", e => {
				var elem = document.getElementById("example");
				var ctx = elem.getContext('2d');
				var touches = e.changedTouches;
				for (var i = 0; i < touches.length; i++) {
					var idx = ongoingTouchIndexById(touches[i].identifier);
					if (idx >= 0) {
						ctx.beginPath();
						ctx.moveTo(ongoingTouches[idx].pageX, ongoingTouches[idx].pageY);
						ctx.lineTo(touches[i].pageX, touches[i].pageY);
						ctx.strokeStyle = "#000000";
						ctx.stroke();
						ongoingTouches.splice(idx, 1, copyTouch(touches[i]));
					}
				}
			});
		</script>
	</body>
</html>